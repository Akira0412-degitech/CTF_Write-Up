# ğŸ›¡ï¸ TryHackMe â€“ Basic Pentesting  
### Full Technical Walkthrough & Detailed Write-up

![TryHackMe](https://img.shields.io/badge/TryHackMe-Lab-green)
![Difficulty](https://img.shields.io/badge/Difficulty-Easy-blue)
![Category](https://img.shields.io/badge/Category-Pentesting-red)

---

## ğŸ“Œ Overview

**Room Name:** Basic Pentesting  
**Platform:** TryHackMe  
**Original Author:** Josiah Pierce (VulnHub)  
**Difficulty:** Easy  
**Category:** Linux / Enumeration / Privilege Escalation  

This room is designed to introduce beginners to **real-world penetration testing methodology**.  
It simulates a vulnerable Linux machine that can be compromised using common offensive security techniques such as:

- Service enumeration  
- Information disclosure analysis  
- Credential brute-forcing  
- SSH key abuse  
- Privilege escalation  

The goal is to demonstrate how seemingly small misconfigurations can be chained together to fully compromise a system.

---

## âš™ï¸ Environment Setup

Before starting the assessment, the following environment was prepared:

- Kali Linux attacker machine
- Active TryHackMe VPN connection
- Tools available:
  - nmap
  - gobuster
  - enum4linux
  - hydra
  - linpeas
  - john

> âš ï¸ Without VPN connectivity, the target machine cannot be reached.

---

## ğŸ” 1. Enumeration Phase

Enumeration is the most important phase of penetration testing.  
The objective is to identify services, users, and misconfigurations that can be exploited later.

---

### ğŸ” Nmap Scan

```bash
nmap -sC -sV <target_ip>
```

### ğŸ“„ Results

```
139/tcp  open  netbios-ssn Samba smbd 4
445/tcp  open  netbios-ssn Samba smbd 4
```

### ğŸ§  Analysis

- Ports **139** and **445** indicate **SMB (Samba)** services
- Samba often allows:
  - User enumeration
  - File sharing
  - Credential attacks
- These services are commonly misconfigured on beginner-level machines

At this stage, SMB became the primary attack surface.

---

## ğŸŒ 2. Web Directory Enumeration

Next, directory brute-forcing was performed to discover hidden resources.

```bash
gobuster dir -u http://<target_ip> -w /usr/share/wordlists/dirb/common.txt
```

### ğŸ“ Discovered Directory

```
/development
```

### ğŸ“„ Contents

- `dev.txt`
- `j.txt`

### ğŸ“ Analysis

The files revealed:

- Mentions of two developers: **Jan** and **Kay**
- Discussion of development issues
- Hints that **Jan uses a weak password**
- Evidence of poor operational security

This is a classic example of **information leakage** caused by developers leaving internal notes publicly accessible.

---

## ğŸ§­ 3. SMB Enumeration

Using `enum4linux`, further enumeration was performed.

```bash
enum4linux <target_ip>
```

### ğŸ‘¤ Discovered Users

```
jan
kay
```

### ğŸ” Significance

- Confirms usernames found in web files
- Provides valid login targets
- Strong indication that authentication-based attacks may succeed

---

## ğŸ”“ 4. Initial Access â€“ SSH Brute Force

Based on gathered intelligence, user **jan** was targeted.

```bash
hydra -l jan -P /usr/share/wordlists/rockyou.txt <target_ip> ssh
```

### âœ… Result

```
jan : armando
```

### ğŸ§  Why This Worked

- Weak password
- No account lockout
- No rate limiting
- SSH exposed publicly

This demonstrates how dangerous weak credentials are in real-world environments.

---

## ğŸ”„ 5. Post-Exploitation & Lateral Movement

Login as jan:

```bash
ssh jan@<target_ip>
```

After exploring the system:

```
/home/kay/pass.bak
```

### âŒ Access Denied

This confirms:
- Another privileged user exists
- Additional escalation is required

---

## ğŸš€ 6. Privilege Escalation Discovery

To locate possible escalation vectors, **linPEAS** was executed.

```bash
./linpeas.sh
```

### ğŸ”‘ Critical Finding

```
/home/kay/.ssh/id_rsa
```

### âš ï¸ Security Issue

- Private SSH key readable by another user
- Key is encrypted but crackable
- Extremely dangerous misconfiguration

---

## ğŸ” 7. SSH Key Cracking

### Step 1: Convert Key Format

```bash
ssh2john id_rsa > id_rsa.hash
```

### Step 2: Crack Passphrase

```bash
john --wordlist=rockyou.txt id_rsa.hash
```

### âœ… Result

Passphrase successfully recovered using a common wordlist.

---

## ğŸ”“ 8. Privilege Escalation (Final Access)

Using the decrypted key:

```bash
ssh -i id_rsa kay@<target_ip>
```

At this point, full access to the system is obtained.

---

## ğŸ 9. Flag Retrieval

```bash
cat pass.bak
```

ğŸ¯ **Flag**
```
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```

---

## ğŸ§  Key Takeaways

### ğŸ” Security Lessons


- Enumeration is the foundation of all attacks
Almost every successful step in this room was made possible through proper enumeration.
Services, users, and hidden directories were not discovered by chance but by systematically gathering information.

- Information disclosure is often underestimated
The development notes exposed usernames and hinted at weak credentials.
Even small pieces of leaked information can drastically reduce the attackerâ€™s effort.

- Weak passwords remain a major security risk
Despite being a well-known issue, weak passwords are still commonly used.
Without account lockout or rate limiting, brute-force attacks become trivial.

- SSH keys must be carefully protected
Private keys should never be accessible to other users.
Even encrypted keys become a serious risk when weak passphrases are used.

- Privilege escalation often relies on small misconfigurations
The system was not vulnerable because of a single critical flaw, but because multiple small issues were chained together.

- Automation tools are powerful, but understanding matters more
Tools like linPEAS accelerate discovery, but knowing why something is vulnerable is essential for real-world security work.

---

## ğŸ› ï¸ Tools Used

| Tool | Purpose |
|------|--------|
| nmap | Network and service discovery |
| gobuster | Directory brute forcing |
| enum4linux | SMB enumeration |
| hydra | Credential brute forcing |
| linpeas | Privilege escalation |
| john | Password cracking |

---

## ğŸ“š Conclusion

This room provides a realistic and well-structured introduction to penetration testing fundamentals.

Rather than relying on a single vulnerability, the compromise was achieved by chaining multiple small weaknesses, which reflects how real-world attacks often occur. The exercise demonstrates the importance of:

Careful enumeration before exploitation

Understanding how services expose information

Recognizing the dangers of poor credential management

Identifying privilege escalation opportunities

Thinking like an attacker instead of relying only on tools

Most importantly, this room highlights that security failures are rarely caused by one mistake alone, but by multiple overlooked misconfigurations working together.


---

âœï¸ **Author:** Akira Hasuo  
ğŸ“˜ *Created for educational and portfolio purposes only*
